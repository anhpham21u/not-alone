<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8" />
        <title>Not Alone</title>
        <style type="text/css">
            input:read-only,
            textarea:read-only {
                background-color: #ccc;
            }

            html {
                height: 100%;
            }

            #div_join_screen {
                width: 100%;
                height: 100%;
                display: flex;
                align-items: center;
                z-index: 10;
                background-color: #888;
            }

            @media screen and (min-width: 600px) {
                .wrapper {
                    flex-direction: column;
                }
                video {
                    max-width: 100vw !important;
                    width: 100% !important;
                }
                .btnWrapper {
                    flex: 0 !important;
                    padding-top: 10px;
                    padding-bottom: 10px;
                }

            }
        </style>
    </head>
    <body
        style="
            display: flex;
            flex-direction: column;
            width: 100%;
            height: 100vh;
            margin: 0;
        "
    >
        <div style="display: none">
            <input
                type="checkbox"
                id="checkbox_camera"
                onclick="onclickCheckbox_CameraMicrophone()"
                checked
            />Camera
            <input
                type="checkbox"
                id="checkbox_microphone"
                onclick="onclickCheckbox_CameraMicrophone()"
                checked
            />Microphone
            <br />
            Room Name :
            <input type="text" id="text_roomname" readonly="readonly" />
            <br />
        </div>
        <div id="div_userinfo" style="display: flex" class="wrapper">
            <div border="1px solid black" style="flex: 1">
                <input
                    style="display: none"
                    type="text"
                    id="text_username"
                    readonly="readonly"
                /><video
                    id="video_local"
                    style="
                        border: 1px solid black;
                        max-height: 75vh;
                        max-width: 50vw;
                        width: 99%;
                    "
                    playsinline
                    autoplay
                ></video>
            </div>
        </div>

        <!-- エンターキーによるボタン押下を行うために、<button>ではなく<form>と<input type="submit">を使用。
            ボタン押下(=submit)時にページリロードが行われないように、onsubmitの設定の最後に"return false;"を追加。-->
        <div style="flex: 1; display: flex" class="wrapper">
            <div
                style="
                    flex: 1;
                    display: flex;
                    justify-content: space-evenly;
                    align-items: center;
                "
                class="btnWrapper"
            >
                <button
                    id="btnStop"
                    onclick="onclickButton_LeaveChat()"
                    style="flex: 1; height: 80px; margin: 5px"
                >
                    Stop
                </button>
                <button
                    id="btnStart"
                    onclick="onsubmitButton_Join()"
                    style="flex: 1; height: 80px; margin: 5px"
                >
                    Start
                </button>
                <button
                    id="btnNext"
                    onclick="onclickButton_Next()"
                    style="flex: 1; height: 80px; margin: 5px"
                >
                    Next
                </button>
            </div>

            <div
                style="
                    flex: 1;
                    display: flex;
                    flex-direction: column;
                    padding: 5px;
                "
            >
                <form
                    action=""
                    style="display: flex"
                    onsubmit="onsubmitButton_SendMessage(); return false;"
                >
                    <input
                        type="text"
                        style="width: 100%"
                        id="text_message_for_send"
                    /><input type="submit" value="Send message" />
                </form>
                <textarea
                    id="textarea_message_received"
                    style="height: 90%; padding: 5px; margin-top: 5px"
                    readonly="readonly"
                ></textarea>
            </div>
        </div>
        <!-- Script -->
        <script src="/socket.io/socket.io.js"></script>
        <script src="./client.js"></script>
    </body>
</html>
